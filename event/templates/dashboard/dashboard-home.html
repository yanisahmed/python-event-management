{% extends "dashboard/dashboard.html" %}

{% block dashboard %}
        <div>
            <h1 class="text-2xl font-semibold">Dashboard</h1>
            <p class="text-slate-500">Overview of your events, Participants, Past Events and Upcoming Events.</p>
        </div>

        {% comment %} Stats Grid {% endcomment %}
        <section class="grid sm:grid-cols-2 xl:grid-cols-4 gap-4">
            <a href="{% url 'dashboard' %}">
                <div class="rounded-2xl border bg-white p-5">
                    <p class="text-sm text-slate-500">Total Events</p>
                    <p class="mt-2 text-3xl font-bold">{{counts.total_events}}</p>
                </div>
            </a>
            <a href="{% url 'dashboard' %}?type=participants">
                <div class="rounded-2xl border bg-white p-5">
                    <p class="text-sm text-slate-500">Participants</p>
                    <p class="mt-2 text-3xl font-bold">{{counts.participants}}</p>
                </div>
            </a>
            <a href="{% url 'dashboard' %}?type=upcoming-events">
                <div class="rounded-2xl border bg-white p-5">
                    <p class="text-sm text-slate-500">Upcoming Events</p>
                    <p class="mt-2 text-3xl font-bold">{{counts.upcoming_events}}</p>
                </div>
            </a>
            <a href="{% url 'dashboard' %}?type=past-events">
                <div class="rounded-2xl border bg-white p-5">
                    <p class="text-sm text-slate-500">Past Events</p>
                    <p class="mt-2 text-3xl font-bold">{{counts.past_events}}</p>
                </div>
            </a>
        </section>

        {% comment %} Upcoming Events {% endcomment %}
        <section class="rounded-2xl border bg-white">
            <div class="p-5 border-b flex items-center justify-between">
                <h2 class="font-semibold">{{events.title}}</h2>
                <a href="{% url 'dashboard' %}" class="text-sm text-indigo-600 hover:underline">View all</a>
            </div>
            <div class="overflow-x-auto">
                <table class="min-w-full text-sm">
                    <thead class="bg-slate-50 text-slate-600">
                        <tr>
                            <th class="text-left px-5 py-3">Date</th>
                            <th class="text-left px-5 py-3">Event</th>
                            <th class="text-left px-5 py-3">Category</th>
                            <th class="text-left px-5 py-3">Participants</th>
                            <th class="text-left px-5 py-3">Status</th>
                            <th class="px-5 py-3"></th>
                        </tr>
                    </thead>
                    <tbody class="divide-y">
                        {% for event in events  %}
                        <tr>
                            <td class="px-5 py-4">{{event.date}}</td>
                            <td class="px-5 py-4 font-medium">{{event.name}}</td>
                            <td class="px-5 py-4"><span class="px-2 py-1 text-xs rounded-lg bg-indigo-100 text-indigo-700">{{event.category}}</span></td>
                            <td class="px-5 py-4">{{event.participants.all|length }}</td>
                            <td class="px-5 py-4"><span class="px-2 py-1 text-xs rounded-lg bg-emerald-100 text-emerald-700">{{event.staus}}</span></td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </section>
{% endblock dashboard %}